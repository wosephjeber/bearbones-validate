/*! form-validator 2014-11-01 */
var formValidator=function(a,b){var c=this;this.form=a,this.options={callback:function(){c.form.submit()},flashElement:$(".flash",c.form),errorClass:"error",errorMessageClass:"error-message",customValidations:[]};var b=b||{};$.extend(this.options,b),this.validate=function(){var a=c.form,b={success:!0,errors:[],messages:[]},d=0;return a.find('[type="email"]').each(function(a,d){var e=$(d).val();c.validateEmail(e)||(b.messages.push("Enter valid email address. "),b.errors.push({element:d,message:"Invalid email"}))}),a.find("[required]").each(function(a,c){var e=$(c).val(),f=$(c).attr("placeholder");""!==e&&e!==f||!$(c).is(":visible")||(d++,b.errors.push({element:c,message:"Required field"}))}),$.each(c.options.customValidations,function(a,c){c.rule.call(c.element)||(b.errors.push({element:c.element,message:c.message}),b.messages.push(c.flash))}),b.errors.length>0&&(b.success=!1,d>0&&b.messages.push("Fill out all required fields. ")),b},this.validateEmail=function(a){var b=/^[0-9a-zA-Z][-.+_a-zA-Z0-9]*@([0-9a-zA-Z][-._0-9a-zA-Z]*\.)+[a-zA-Z]{2,6}$/;return b.test(a)},this.clearErrors=function(){c.form.find("."+c.options.errorClass).removeClass(c.options.errorClass),c.form.find("."+c.options.errorMessageClass).remove(),c.options.flashElement.html("")},this.displayErrors=function(a){c.clearErrors(),$.each(a.errors,function(a,b){$(b.element).addClass(c.options.errorClass).after('<span class="'+c.options.errorMessageClass+'">'+b.message+"</span>")});var b="";$.each(a.messages,function(a,c){b+=c}),c.options.flashElement.html(b.trim())},this.setUpSubmitHandler=function(){c.form.on("submit",function(){var a=c.validate();return a.success?(c.clearErrors(),c.options.callback.call(c.form)):c.displayErrors(a),!1})},this.setUpSubmitHandler()};